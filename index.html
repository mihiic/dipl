<html lang="en">
<head>
    <link rel="stylesheet" href="style.css" type="text/css"/>
    <script id="vert-shader" type="x-shader/x-vertex">
        attribute vec2 a_position;
        uniform mat3 u_matrix;

        // shader main function
        void main() {
            vec2 position = (u_matrix * vec3(a_position, 1)).xy;
            gl_Position = vec4(position, 0, 1);
        }
    </script>
    <script id="frag-shader" type="x-shader/x-fragment">
        precision mediump float;
        uniform vec4 u_color;

        void main() {
            gl_FragColor = u_color;
        }
    </script>
    <script id="frag-shader-3d" type="x-shader/x-fragment">
        precision mediump float;
        varying vec3 v_normal;
        uniform vec3 u_reverseLightDirection;

        uniform vec4 u_color;

        void main() {
            vec3 normal = normalize(v_normal);
            float light = max(dot(normal, u_reverseLightDirection), 0.1);
            gl_FragColor = u_color;
            gl_FragColor.rgb *= light;
        }
    </script>
    <script id="vert-shader-3d" type="x-shader/x-vertex">
        attribute vec4 a_position;
        attribute vec3 a_normal;
        uniform mat4 u_worldViewProjection;
        uniform mat4 u_worldInverseTranspose;

        varying vec3 v_normal;

        void main() {
            gl_Position = u_worldViewProjection * a_position;
            v_normal = mat3(u_worldInverseTranspose) * a_normal;
        }
    </script>

    <script src="glUtils.js"></script>
    <title>Mihael Medan - Diplomski</title>
</head>
<body>
<canvas id="main-canvas" width="600" height="600"></canvas>
<script src="index.js" type="module"></script>
<script src="vec3.js" type="module"></script>
<script src="mat3.js" type="module"></script>
<script src="mat4.js" type="module"></script>
</body>
</html>
